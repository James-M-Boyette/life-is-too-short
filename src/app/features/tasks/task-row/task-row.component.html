<li class="row">
    <div class="left">
        <input
            class="check"
            type="checkbox"
            [checked]="task.is_done"
            (change)="toggleDone.emit(task)"
            [disabled]="disabled"
            aria-label="Mark task done"
        />

        @if (!editing()) {
            <button
                type="button"
                class="title-btn"
                [class.done]="task.is_done"
                (click)="startEdit()"
                [disabled]="disabled"
            >
                {{ task.title }}
            </button>
        } @else {
            <form class="edit" (submit)="onSubmit($event)">
                <input
                    type="text"
                    [value]="draftTitle()"
                    (input)="onDraftInput($event)"
                    [disabled]="disabled"
                    autofocus
                />
                <button type="submit" [disabled]="disabled">Save</button>
                <button type="button" (click)="cancelEdit()" [disabled]="disabled">Cancel</button>
            </form>
        }
    </div>

    <button
        type="button"
        class="delete-task-btn"
        (click)="remove.emit(task.id)"
        [disabled]="disabled"
        >Delete
    </button>

    <!-- <div class="meta">
        <button
            type="button"
            class="link"
            (click)="toggleNotesOpen()"
            [disabled]="disabled"
            >
            @if (notesOpen()) {
                Hide notes
            } @else {
                Notes
            }
        </button>

        <span class="hint">
            @if (task.notes) {
                Has notes
            }
        </span>
    </div>

    @if (notesOpen()) {
        <div class="notes">
            @if (!editingNotes()) {
                <div class="notes-view">
                    <p class="notes-text">
                        {{ task.notes ?? 'No notes yet.' }}
                    </p>
                    <button type="button" (click)="startNotesEdit()" [disabled]="disabled">
                        Edit notes
                    </button>
                </div>
            } @else {
                <form class="edit-notes-form" (submit)="onNotesSubmit($event)" >
                    <textarea
                        rows="3"
                        [value]="draftNotes()"
                        (input)="onNotesInput($event)"
                        [disabled]="disabled"
                    ></textarea>
                    <div class="notes-actions">
                        <button type="submit" [disabled]="disabled">Save</button>
                        <button type="button" (click)="cancelNotesEdit()" [disabled]="disabled">
                            Cancel
                        </button>
                    </div>
                </form>
            }
        </div>
    } -->
</li>
